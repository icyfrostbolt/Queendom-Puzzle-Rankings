---
title: "Queendom Puzzle Analysis"
date: "2023-09-17"
output: html_document
---

# Progression Guide

- Episode 1: The contestants are ranked based on their pre-assigned ranks. (1-4)
- Episode 2: The contestants are ranked based on their results after the Up-Down Battle.
- Episode 3: Haein and Chaeyeon are shown to have dropped out with their final placement being tied for 27th place. There are now 26 contestants remaining.
- Episode 7: The contestants are shown with their ranking after the end of the first voting period.  There are now 21 contestants remaining.
- Episode 8: The contestants are shown with their ranking in the interim vote for the second voting period.
- Episode 9: The contestants are shown with their ranking after the end of the second voting period.  THere are now 14 contestants remaining.
- Episode 10: The contestants are shown with their ranking after the final voting period. The 7 highest placing members debuted in EL7Z UP.

## El7Z UP Members Progression

```{r, fig.width=10, fig.height=10}
library(ggplot2)
library(readxl)
QP_Ranking_EL7ZUP <- read_excel("QP-Ranking-EL7ZUP.xlsx")

gfg_plot <- ggplot(QP_Ranking_EL7ZUP, aes(x=Episode, y=Ranking, group=Name, color=Name)) +
  geom_line() +
  geom_point() +
  xlab("Episode Number") +
  ylab("Rank") +
  scale_x_continuous(breaks=1:10) +
  scale_y_continuous(trans="reverse", breaks=1:28) +
  facet_wrap(~Name)

gfg_plot
```

## Entire Cast Progression

```{r, fig.width=12, fig.height=20}
library(ggplot2)
library(readxl)
QP_Ranking <- read_excel("QP-Ranking.xlsx")

gfg_plot2 <- ggplot(QP_Ranking, aes(x=episode, y=ranking, group=name, color=name)) +
  geom_line() +
  geom_point() +
  xlab("Episode Number") +
  ylab("Rank") +
  scale_x_continuous(breaks=1:10) +
  scale_y_continuous(trans="reverse", breaks=1:28) +
  facet_wrap(~name)

gfg_plot2
```

## Grouped Dependent on their Signal Song Group

- Note: Despite leaving before the performance, Chaeyeon and Haein are credited as being members of PICK on the top and DROP The Beat respectively.

```{r, fig.width=12, fig.height=10}
library(ggplot2)
library(readxl)
QP_Ranking <- read_excel("QP-Ranking.xlsx")

gfg_plot3 <- ggplot(QP_Ranking, aes(x=episode, y=ranking, group=name, color=signal_song)) +
  geom_line() +
  geom_point() +
  xlab("Episode Number") +
  ylab("Rank") +
  scale_x_continuous(breaks=1:10) +
  scale_y_continuous(trans="reverse", breaks=1:28) +
  facet_wrap(~signal_song)

gfg_plot3
```

## Grouped Dependent on their Initial Groups

- Note: Miru and Fye are credited as being from NMB48 and BNK48 respectively.

```{r, fig.width=12, fig.height=20}
library(ggplot2)
library(readxl)
QP_Ranking <- read_excel("QP-Ranking.xlsx")

gfg_plot4 <- ggplot(QP_Ranking, aes(x=episode, y=ranking, group=name, color=initial_group)) +
  geom_line() +
  geom_point() +
  xlab("Episode Number") +
  ylab("Rank") +
  scale_x_continuous(breaks=1:10) +
  scale_y_continuous(trans="reverse", breaks=1:28) +
  facet_wrap(~initial_group)

gfg_plot4
```

## Grouped Dependent on their Remix Battle Songs

```{r, fig.width=12, fig.height=10}
library(ggplot2)
library(dplyr)
library(readxl)
QP_Ranking <- read_excel("QP-Ranking.xlsx")
QP_Ranking <- filter(QP_Ranking, remix_song != 'NA')

gfg_plot5 <- ggplot(QP_Ranking, aes(x=episode, y=ranking, group=name, color=remix_song)) +
  geom_line() +
  geom_point() +
  xlab("Episode Number") +
  ylab("Rank") +
  scale_x_continuous(breaks=1:10) +
  scale_y_continuous(trans="reverse", breaks=1:28) +
  facet_wrap(~remix_song)

gfg_plot5
```